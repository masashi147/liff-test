<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Open External Browser Test</title>
  <script src="https://static.line-scdn.net/liff/edge/2.1/liff.js"></script>
</head>
<body>
<script>
  // 1. ページ読み込み時にLIFF初期化
  liff.init({ liffId: '2007107654-RKpxrQxj' })
    .then(() => {
      // 2. 必要があればログインチェック
      if (!liff.isLoggedIn()) {
        liff.login();
        return;
      }
      // 3. 外部ブラウザを開く
      liff.openWindow({
        url: 'https://ig.me/m/spjshunsuke4?ref=32:t_igme_ref_params', // テスト用URL
        external: true                       // 外部ブラウザで開く
      });
      
      // 4. このLIFF画面を閉じる（必要があれば）
      // liff.closeWindow(); 
    })
    .catch(err => {
      console.error('LIFF init failed ', err);
    });
</script>
</body>
</html>
